<!DOCTYPE html>
<html>
<head>
    <title>Javascript browser for ESRI Services</title>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/themes/base/jquery-ui.css" type="text/css" media="all" />
    <link href="css/admin.css" rel="stylesheet" type="text/css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.13/jquery-ui.js" type="text/javascript"></script>
    <script src="js/knockout-2.0.0.js" type="text/javascript"></script>
    <script src="js/admin.js" type="text/javascript"></script>

    <script type="text/html" id="layer-template">
                        <li>
                            <span data-bind="text:id"></span>
                            <span data-bind="text:name"></span>
                            <input type="checkbox" data-bind="checked:included" />
                            <ul data-bind="foreach:$data.fields">
                                <li>
                                    <span data-bind="text:name"></span>
                                    <span data-bind="text:alias"></span>
                                    <input type="checkbox" data-bind="checked:included" />
                                </li>
                            </ul>
                        </li>
    </script>
</head>
<body>
    <div id="container">
        <form class="config">
        <fieldset>
            <legend>Rest Endpoint</legend>
            <input type="text" id="inpUrl" value="http://www2.richlandmaps.com/arcgis/rest/services"/>
            <input type="text" id="inpToken" value=""/>
            <button id="btnGo">Go</button>
        </fieldset>
        </form>

        <div id="services">
            <span>Please select the services you want to use on your mobile application</span>
            <ul data-bind="foreach: $root.Services">
                <li>
                    <span data-bind="text:$data.name"></span>
                    <span data-bind="text:$data.type"></span>
                    <input type="text" data-bind="value:$data.url"/>
                    <input type="checkbox" data-bind="checked: $data.included" />
                </li>
            </ul>
            <button id="btnConfigure" data-bind="visible:$root.canConfigure">Configure</button>
        </div>

        <div id="configure">
            <div id="tabs">
                <ul data-bind="foreach:$root.services_being_configured">
                    <li class="tab-header">
                        <a data-bind="attr: {href: '#tab' +$data.name}">
                            <span data-bind="text:$data.name"></span>
                        </a>
                    </li>
                </ul>
                <!-- ko foreach: $root.services_being_configured -->
                <div data-bind="attr: {id: 'tab' +$data.name}" class="tab-content">
                    <span data-bind="text:$data.name"></span>
                    <span data-bind="text:$data.type"></span>
                    <span data-bind="text:$data.url"></span>
                    <ul class="layers" data-bind="template: {name: 'layer-template', foreach: $data.layers}">
                        
                    </ul>
                </div>
                <!-- /ko -->
            </div>
        </div>
    </div>
</body>
</html>
